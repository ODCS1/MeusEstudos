FROM openjdk

# COPIA UM ARQUIVO DA RAÍZ PARA UM DIRETÓRIO ESPECIFICADO
COPY aula.txt /app/aula.txt

# ADICIONA UM ARQUIVO DA NUVEM E PODE DESCONPACTAR PARA UM DIRETÓRIO ESPECIFICADO
ADD aula.tar.gz /app/aula

# RODA COMANDO
RUN mkdir /aula

# EXECUTA QUANDO O CONTAINER ESTÁ INICIALIZADO
# COMANDO QUE DA CARACTERÍSTICA AO CONTAINER
CMD ["/app"]

# QUANDO O ENTRYPOINT E O CMD ESTÃO DECLARADOS O "VALOR" DO CMD ENTRA COMO PARÂMETRO PARA O ENTRYPOINT
# ENTÃO NESSE CASO VAI LISTAR OS ARQUIVOS DE ALGUM DIRETÓRIO
# E COMO O CMD TEM O "/app", QUE VAI SER PASSADO COMO 
# PARÂMETRO, O ls VAI LISTAR PARA ESSE DIRETÓRIO.
ENTRYPOINT [ "ls" ]
# APÓS ISSO ENCERRA O CONTAINER



# QUANDO O CONTAINER FINALIZAR
# ESSE VAI SER O DIRETÓRIO RAÍZ
WORKDIR /app


# CRIA UMA VARIÁVEL DE AMBIENTE
ENV MINHA_APLICACAO=app.jar


# UTILIZAR DENTRO DO DOCKERFILE
COPY ${MINHA_APLICACAO} /app


# VAI EXPOR A PORTA DENTRO DO CONTAINER QUANDO FOR INICIADO
EXPOSE 8080